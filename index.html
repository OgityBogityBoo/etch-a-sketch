<html>
  <head>
    <title>Etch-a-Sketch</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="controls">
      <button onclick="Reset()">Create New Sketchpad</button>
      Sketchpad size: <input type="number" id="sketchpadSize" value="16" />
    </div>
    <div id="container"></div>
  </body>
  <script>
    //CreateGrid();
    //create the initial grid using the gridSize for size
    function CreateGrid() {
      let sketchpadSize = document.getElementById("sketchpadSize").value;
      let gridSize = sketchpadSize * sketchpadSize;
      //grab reference to container grid will live in
      const container = document.querySelector("#container");
      for (i = 0; i < gridSize; i++) {
        const gridElement = document.createElement("div");
        gridElement.classList.add("gridElement");
        gridElement.onmouseover = function () {
          HoverElement(this);
        };
        container.appendChild(gridElement);
      }
      //let columnSize = Math.round(Math.sqrt(gridSize));
      document
        .getElementById("container")
        .setAttribute(
          "style",
          "grid-template-columns: repeat(" +
            sketchpadSize +
            ", 1fr); grid-template-rows: repeat(" +
            sketchpadSize +
            ", 1fr);"
        );
    }

    //changes the gridElement's class to one that is black
    function HoverElement(element) {
      element.classList.remove("gridElement");
      element.classList.add("gridElementHovered");
    }

    //resets the grid
    function Reset() {
      if (CheckSketchpadSize()) {
        ClearOldGrid();
        CreateGrid();
      } else {
        alert("Invalid size. Please keep size between 2-64.");
      }
    }

    //removes all of the elements inside container
    function ClearOldGrid() {
      const container = document.getElementById("container");
      container.innerHTML = "";
    }

    function CheckSketchpadSize() {
      let sketchpadSize = document.getElementById("sketchpadSize").value;
      if (sketchpadSize > 64) {
        return false;
      }
      if (sketchpadSize < 2) {
        return false;
      }
      return true;
    }
  </script>
</html>
